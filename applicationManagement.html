 <!DOCTYPE html>
<html>
<head>

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
</head>
<body>
<div id="landingPage">
	<div style="float:right;"><button onclick="initiateApplication();">Initiate Application</button></div><br>
	<div id="pendingApplicationsTable" style="margin-top:35px;">
		<div style="text-align:center;font-size:35px;">Pending Applications</div>	
	</div>
	<div id="submittedApplicationsTable" style="margin-top:35px;">
		<div style="text-align:center;font-size:35px;">Submitted Applications</div>	
	</div>
	<div id="completedApplicationsTable" style="margin-top:35px;">
		<div style="text-align:center;font-size:35px;">Completed Applications</div>	
	</div>
</div>
<div id="initiatePage">
	<div style="text-align:center;font-size:35px;">Initiate Application</div>
	<div style="text-align:right;margin-top:50px;width:58%;"><label style="margin-right:10px;">First Name</label><input id="first_name" type="text"></div>
	<div style="text-align:right;margin-top:20px;width:58%;"><label style="margin-right:10px;">Last Name</label><input id="last_name" type="text"></div>
	<div style="text-align:right;margin-top:20px;width:58%;"><label style="margin-right:10px;">Phone Number</label><input id="primary_phone_number" type="text">		</div>
	<div style="text-align:right;margin-top:20px;width:58%;"><label style="margin-right:10px;">Email</label><input id="primary_email" type="text"></div>
	<div style="text-align:center;margin-top:20px"><button onclick="initiateNewApplicant();">Initiate</button></div>
	<div style="text-align:center;margin-top:20px"><button id="cancel">Cancel</button></div>
</div>
</body>
</html>
<style>
table, th, td 
{
  border: 1px solid black;
}
th,td
{
	width:100px;
}
</style>
<script>
$(document).ready(function()
{
	pendingTable();
	submittedTable();
	completedTable();
	$("#initiatePage").hide();
	$("#cancel").click(function()
  	{
		$("#initiatePage").hide();
		$("#landingPage").show();
	});
});
function pendingTable()
{
	$.ajax
	({
		type: "POST",
		url: "applicationManagement.php",
		data:{action:"pending_table"},
		success: function(data)
		{
			$("#pendingApplicationsTable").append(data);
			$("#pendingTable").DataTable();
		}
	});
}
function submittedTable()
{
	$.ajax
	({
		type: "POST",
		url: "applicationManagement.php",
		data:{action:"submitted_table"},
		success: function(data)
		{
			$("#submittedApplicationsTable").append(data);
			$("#submittedTable").DataTable();
		}
	});
}
function completedTable()
{
	$.ajax
	({
		type: "POST",
		url: "applicationManagement.php",
		data:{action:"completed_table"},
		success: function(data)
		{
			$("#completedApplicationsTable").append(data);
			$("#completedTable").DataTable();
		}
	});
}
function initiateApplication()
{
	$("#initiatePage").show();
	$("#landingPage").hide();
}
function initiateNewApplicant()
{
	var err = "";
	if($("#first_name").val() == "")
	{
		err += "First Name <br>";
	}
	if($("#last_name").val() == "")
	{
		err += "Last Name <br>";
	}
	if($("#primary_phone_number").val() == "")
	{
		err += "Phone Number <br>";
	}
	if($("#primary_email").val() == "")
	{
		err += "Email <br>";
	}
	if(err != "")
	{
		Swal.fire({html:'The following fields are required: <br>' + err, icon:'warning'});
	}
	else
	{
		$.ajax
		({
			type: "POST",
			url: "applicationManagement.php",
			data:{action:"initiate_application",first_name:$("#first_name").val(),last_name:$("#last_name").val(),	                                     primary_phone_number:$("#primary_phone_number").val(),primary_email:$("#primary_email").val()},
			success: function(data)
			{
				Swal.fire({html:'Application Initiated', icon:'success'}).then(function()
				{
					location.reload();
				});
			}
		});	
	}	
}
</script>